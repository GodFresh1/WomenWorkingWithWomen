<div ng-include="'components/navbar/navbar.html'"></div>

<div class="row content-header-sm">
  <div class="col s12 title-container-sm">
    <h1 class="header-text animated fadeIn">Admin Dashboard</h1>
  </div>
</div>

<div class="container">
	 <div ng-show="isAdmin()" class = "row">
		<div class="col s12 m12 l12">
      <md-toolbar class="md-theme-light">
       <h2 class="md-toolbar-tools">
         <span>Upcoming Events</span>
       </h2>
     </md-toolbar>
     <md-content>
       <md-list>
         <md-list-item class="md-3-line" ng-repeat="event in events | orderBy:'start'">
           <div class="md-list-item-text event-item" >
             <div id="event-content" class="row">
               <div class="col l10 m8 s8">
                 <h3>{{event.title}}</h3>
                 <h4>{{event.startDate}}</h4>
                 <p>{{event.description}}</p>
               </div>
               <div id="event-controls"class="col l2 m4 s4 clearfix" >
                 <div class="time">{{event.startTime}} - {{event.endTime}}</div>
                 <a id="event-details-btn" class="btn-floating" ng-click="showDetails(event)"><i class="material-icons">{{showDetails[event._id] ? 'keyboard_arrow_up' : 'keyboard_arrow_down'}}</i></a>
               </div>
             </div>
             <div id="detailed-info" class="row" ng-show="showDetails[event._id]">
               <md-toolbar class="md-theme-light small-toolbar">
                <h2 class="md-toolbar-tools small-toolbar">
                  <span ng-show="event.attendees.length > 0">Attendees</span>
                  <span ng-show="event.attendees.length < 1">There are no attendees for this event.</span>
                </h2>
              </md-toolbar>
               <table ng-show="event.attendees.length > 0" class="striped">
                <thead>
                  <tr>
                    <th data-field="name">Name</th>
                    <th data-field="email">Email</th>
                    <th class="check-in" data-field="checked in">Check in</th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="attendee in event.attendees">
                    <td width="30%">{{attendee.firstName}} {{attendee.lastName}}</td>
                    <td width="60%">{{attendee.email}}  </td>
                    <td class="check-in" >
                      <input type="checkbox" id="{{attendee._id}}"  ng-checked="attendee.checkedIn" ng-click="checkBox(attendee, $event)"/>
                      <label for="{{attendee._id}}"></label>
                    </td>
                  </tr>
                </tbody>
              </table>
             </div>
             <hr class="simple-hr">
           </div>
         </md-list-item>
       </md-list>
     </md-content>
		</div>
	</div>
  <div ng-hide="isAdmin()" class="row">
    <h2>You are not an admin. Please log in as an admin to view this page.</h2>
  </div>
</div>

<div ng-include="'app/content/footer/footer.html'"></div>
